export MSYSTEM=UCRT64
export MSYSCON=defterm
export CHERE_INVOKING=enabled_from_arguments

MSYS2_PATH="/usr/local/bin:/usr/bin:/bin"
MANPATH='/usr/local/man:/usr/share/man:/usr/man:/share/man'
INFOPATH='/usr/local/info:/usr/share/info:/usr/info:/share/info'

WIN_ROOT="$(PATH=${MSYS2_PATH} exec cygpath -Wu)"
ORIGINAL_PATH="${WIN_ROOT}/System32:${WIN_ROOT}:${WIN_ROOT}/System32/Wbem:${WIN_ROOT}/System32/WindowsPowerShell/v1.0/"

unset MINGW_MOUNT_POINT
. /etc/msystem
MINGW_MOUNT_POINT="${MINGW_PREFIX}"
PATH="${MSYS2_PATH}${ORIGINAL_PATH:+:${ORIGINAL_PATH}}:${MINGW_MOUNT_POINT}/bin"
PKG_CONFIG_PATH="${MINGW_MOUNT_POINT}/lib/pkgconfig:${MINGW_MOUNT_POINT}/share/pkgconfig"
PKG_CONFIG_SYSTEM_INCLUDE_PATH="${MINGW_MOUNT_POINT}/include"
PKG_CONFIG_SYSTEM_LIBRARY_PATH="${MINGW_MOUNT_POINT}/lib"
ACLOCAL_PATH="${MINGW_MOUNT_POINT}/share/aclocal:/usr/share/aclocal"
MANPATH="${MINGW_MOUNT_POINT}/local/man:${MINGW_MOUNT_POINT}/share/man:${MANPATH}"
INFOPATH="${MINGW_MOUNT_POINT}/local/info:${MINGW_MOUNT_POINT}/share/info:${INFOPATH}"

CONFIG_SITE="/etc/config.site"

SYSCONFDIR="${SYSCONFDIR:=/etc}"

ORIGINAL_TMP="${ORIGINAL_TMP:-${TMP}}"
ORIGINAL_TEMP="${ORIGINAL_TEMP:-${TEMP}}"
TMP="/tmp"
TEMP="/tmp"

# Define default printer
p='/proc/registry/HKEY_CURRENT_USER/Software/Microsoft/Windows NT/CurrentVersion/Windows/Device'
if [ -e "${p}" ]; then
  read -r PRINTER <"${p}"
  PRINTER=${PRINTER%%,*}
fi
unset p

# Shell dependent settings
profile_d() {
  local file=
  for file in $(
    export LC_COLLATE=C
    echo /etc/profile.d/*.$1
  ); do
    [ -e "${file}" ] && . "${file}"
  done

  if [ -n "${MINGW_MOUNT_POINT}" ]; then
    for file in $(
      export LC_COLLATE=C
      echo ${MINGW_MOUNT_POINT}/etc/profile.d/*.$1
    ); do
      [ -e "${file}" ] && . "${file}"
    done
  fi
}

for postinst in $(
  export LC_COLLATE=C
  echo /etc/post-install/*.post
); do
  [ -e "${postinst}" ] && . "${postinst}"
done

HOSTNAME="$(exec /usr/bin/hostname)"
SHELL=$(which bash)
profile_d sh
[ -f "/etc/bash.bashrc" ] && . "/etc/bash.bashrc"

if [ -n "$ACLOCAL_PATH" ]; then
  export ACLOCAL_PATH
fi

export PATH MANPATH INFOPATH PKG_CONFIG_PATH PKG_CONFIG_SYSTEM_INCLUDE_PATH PKG_CONFIG_SYSTEM_LIBRARY_PATH USER TMP TEMP PRINTER HOSTNAME PS1 SHELL ORIGINAL_TMP ORIGINAL_TEMP ORIGINAL_PATH CONFIG_SITE
unset PATH_SEPARATOR
